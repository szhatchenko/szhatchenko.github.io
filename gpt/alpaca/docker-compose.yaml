version: "3"
services:
  alpaca:
    image: developmentontheedge/alpaca
    container_name: alpaca
    network_mode: host
    restart: unless-stopped
    volumes:
      - ./models/ggml-alpaca-7b-q4.bin:/chat/ggml-alpaca-7b-q4.bin:ro
      - ./chat.html:/chat/chat.html:ro
    #command: ./websocketd --staticdir=. --port=9092 ./chat-avx-f16c-sse3 -t 16 -s 42 --top_p 2 --top_k 160 --n_predict 100 --temp 0.50 --repeat_penalty 1.1 -i -c 5121 --repeat_last_n 128
    command: ./websocketd --staticdir=. --port=9092 ./chat-avx-f16c-sse3 -t 16
