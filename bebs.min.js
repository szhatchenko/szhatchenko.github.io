function beReady(e){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,1):document.addEventListener("DOMContentLoaded",e)}function be$(e,t){if("function"==typeof t){var n=document.querySelectorAll(e);return n.forEach(t),n}return(t||document).querySelectorAll(e)}function beGoBack(){if(window.beHistory&&!(window.beHistory.length<1)){var e=null!=document.querySelector("#mainContent #operationBackLink"),t=null!=document.querySelector("#mainContent #queryBackLink"),n=window.beHistory[window.beHistory.length-1];return t?(window.beHistory.pop(),beShowPage((n=window.beHistory.pop()).content,n),beSaveHistoryIfNeeded(n)):e?((n=window.beHistory.pop()).params.url=n.historyKeyLink,loadPageWithProgress(n.menuLink,n.params)):(beShowPage((n=window.beHistory.pop()).content,n),beSaveHistoryIfNeeded(n)),!1}}function beSaveHistoryIfNeeded(e){if(e.historyKeyLink){delete e.params.url,delete e.params.form,delete e.params.execOp;for(var t=!1,n=0;n<window.beHistory.length;n++){var r=window.beHistory[n];if(r.historyKeyLink==e.historyKeyLink){r.menuLink&&!e.menuLink&&(e.menuLink=r.menuLink),window.beHistory[n]=e,window.beHistory=window.beHistory.slice(0,n+1),t=!0;break}}t||window.beHistory.push(e)}}function beFixLinks4Bootstrap(e){if(e){var t=e.querySelectorAll("a");t&&t.forEach(function(e){e.onclick||(e.onclick=function(){return loadPageWithProgress(null,{url:this.href,title:this.innerText,type:"text"},"refreshLink"==this.id),!1})})}}function beShowPage(e,t){var n=document.querySelector("#mainContent");n.innerHTML="";var r=window.addEventListener,o=window.onload,i=[];window.addEventListener=function(e,t,n){"load"===e?i.push(t):r(e,t,n)},console.log("Installed custom addEventListener.");var a=document.createElement("div");a.innerHTML=e;var s=null!=a.querySelector("#queryTitleContainer"),l=a.querySelector("#historyKeyLink")?a.querySelector("#historyKeyLink").href:null;l&&(t.historyKeyLink=l);for(var c=a.querySelectorAll("script"),d=a.childNodes,u=0;u<d.length;u++){var m=d[u].cloneNode(!0);m.querySelectorAll&&"SCRIPT"!=m.nodeName&&"#text"!=m.nodeName&&beFixLinks4Bootstrap(m),n.appendChild(m)}try{for(u=0;u<c.length;u++){var p=document.createElement("script");p.type=c[u].type||"text/javascript",c[u].hasAttribute("src")&&(p.src=c[u].src),p.innerHTML=c[u].innerHTML,document.head.appendChild(p),document.head.removeChild(p)}}finally{window.addEventListener=r,console.log("Reverted to original addEventListener.")}var v=a.querySelector("#documentTitle"),y=a.querySelector("#documentMobileTitle");v&&(document.title=v.innerText,t.params.title=document.title),y&&(document.querySelector("#mobileHeaderTitle").innerText=y.innerText),be$(".goBackLink",n).forEach(function(e){var t=window.beHistory&&window.beHistory.length>0;t&&s&&1==window.beHistory.length&&l==window.beHistory[0].historyKeyLink&&(t=!1),e.style.display=t?"":"none",e.onclick=beGoBack});window.getEventListeners&&window.getEventListeners(window).load.length;var f=window.onload;if(i.length>0)for(var h=0;h<i.length;h++){i[h].name?console.log("Executing page's listener #"+h+" ["+i[h].name+"]..."):console.log("Executing page's listener #"+h+"...");try{i[h]()}catch(e){console.log(e)}}else!f||o&&o==f||(console.log("Executing page's window.onload..."),window.onload=o||null,f());var b=document.getElementById("splitterPlaceholder");if(b){var w=new XMLHttpRequest;w.responseType="text",w.onloadend=function(e){if(200==w.status){var t=document.createElement("div");t.innerHTML=w.response;for(var n=t.querySelectorAll("script"),r=t.childNodes,o=0;o<r.length;o++){var i=r[o].cloneNode(!0);b.appendChild(i)}for(o=0;o<n.length;o++){var a=document.createElement("script");a.type=n[o].type||"text/javascript",n[o].hasAttribute("src")&&(a.src=n[o].src),a.innerHTML=n[o].innerHTML;try{document.head.appendChild(a)}catch(e){console.log("Page contains a script causing an error:"),console.log(e)}document.head.removeChild(a)}b.id="splitter"}},w.open("GET",b.getAttribute("paramFrame")),w.send()}return feather.replace(),s}function paramsAreEqual(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o in n){var i=n[o];if(e[i]!==t[i])return!1}return!0}function loadPageWithProgress(e,t,n){document.querySelector("#dismiss").classList.contains("active")&&document.querySelector("#dismiss").click();var r=null,o=null;if(t.form){var i=t.form;if("formPropertyInspector"==i.id&&t.reload){o=new FormData;for(var a=0;a<i.elements.length;a++){if((l=i.elements[a]).name&&!l.name.startsWith("_internal_")){var s=l.value;"checkbox"==l.type&&(s=String(l.checked)),"file"==l.type||o.append(l.name,s)}}}else if("formPropertyInspector"==i.id&&validate(i)){r=t.send,(o=new FormData).append(t.execOp,"Execute");for(a=0;a<i.elements.length;a++){if((l=i.elements[a]).name&&!l.name.startsWith("_internal_")){s=l.value;"checkbox"==l.type&&(s=String(l.checked)),"file"==l.type?o.append(l.name,l.files[0]):o.append(l.name,s)}}}else if("rForm"==i.id){(o=new FormData).append(t.execOp,"1");for(a=0;a<i.elements.length;a++){var l;if((l=i.elements[a]).name&&!l.name.startsWith("_op_")){s=l.value;if("checkbox"==l.type){if(!l.checked)continue;s=l.name.startsWith("_rec_")?"1":String(l.checked)}o.append(l.name,s)}}}if(!o)return!1}var c=new XMLHttpRequest;c.responseType=t.type,c.onprogress=function(e){var t=e.lengthComputable?e.total:2e4,n=Math.round(100*e.loaded/t);n>100&&(n=100),document.querySelectorAll(".progress-bar").forEach(function(e){e.style.width=n+"%",e.setAttribute("aria-valuenow",n)})},c.onloadstart=function(e){},c.onreadystatechange=function(e){var n=null;t.static||1!=this.readyState||(n=50),this.readyState,this.readyState,n&&document.querySelectorAll(".progress-bar").forEach(function(e){e.style.width=n+"%",e.setAttribute("aria-valuenow",n)})},c.onloadend=function(r){document.querySelector(".progress-bar");if(document.querySelectorAll(".progress-bar").forEach(function(e){e.style.width="99%",e.setAttribute("aria-valuenow",99)}),200==c.status){var o=null;if("blob"==t.type)o='<img class="w-100 img-fluid d-block mx-auto" src="'+URL.createObjectURL(c.response)+'" />';else o=c.response;var i={menuLink:e,params:t,content:o};n&&(i=window.beHistory.pop()),beShowPage(o,i),beSaveHistoryIfNeeded(i)}else{var a="Ошибка "+c.status+" при загрузке "+c.responseURL;document.querySelector("#mainContent").innerHTML='<div class="alert alert-danger" role="alert">'+a+"</div>"}};var d='<span class="align-middle d-none d-xl-block"    style="position: absolute; top: 50%; left: 40%; margin-top: -1.5rem; margin-left: -20%; width: 75%; height: 3rem;"><div class="progress"> <div class="progress-bar progress-bar-striped progress-bar-animated"   role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div> </div></span><span class="align-middle d-none d-lg-block d-xl-none"    style="position: absolute; top: 50%; left: 50%; margin-top: -1.5rem; margin-left: -20%; width: 65%; height: 3rem;"><div class="progress"> <div class="progress-bar progress-bar-striped progress-bar-animated"   role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div> </div></span><div class="spinner-border text-primary d-lg-none d-block"    style="position: absolute; top: 50%; left: 50%; margin-top: -2.5rem; margin-left: -2.5rem; width: 5rem; height: 5rem;"    role="status">      <span class="visually-hidden">Loading...</span></div>',u=document.querySelector("#mainContent");return r?r(t.form,function(){document.title=t.title,document.querySelector("#mobileHeaderTitle").innerText=t.title,e&&(document.querySelectorAll(".nav-link").forEach(function(e){e.classList.remove("active")}),e.classList.add("active")),window.beHistory&&!e||(window.beHistory=[]),u.innerHTML=d,o?(c.open("POST",t.url),c.send(o)):(c.open("GET",t.url),c.send())}):(document.title=t.title,document.querySelector("#mobileHeaderTitle").innerText=t.title,e&&(document.querySelectorAll(".nav-link").forEach(function(e){e.classList.remove("active")}),e.classList.add("active")),window.beHistory&&!e||(window.beHistory=[]),u.innerHTML=d,o?(c.open("POST",t.url),c.send(o)):(c.open("GET",t.url),c.send())),!0}function initSidebar(){be$("#sidebarCollapse",function(e){e.addEventListener("click",function(){be$(".nav-link",function(e){e.classList.add("disabled")}),be$(".overlay",function(e){e.classList.add("active")}),be$(".sidebar",function(e){e.classList.remove("d-none"),e.classList.add("d-sm-block","col-sm-4","active")}),be$("#dismiss",function(e){e.classList.add("active")}),be$(".nav-link",function(e){e.classList.remove("disabled")})})}),be$("#dismiss, .overlay",function(e){e.addEventListener("click",function(){return be$(".overlay",function(e){e.classList.remove("active")}),be$("#dismiss",function(e){e.classList.remove("active")}),be$(".sidebar",function(e){e.classList.remove("d-sm-block","col-sm-4","active"),e.classList.add("d-none")}),!1})}),be$(".my-collapsible-item",function(e){e.addEventListener("click",function(e){var t=be$(".feather.feather-chevron-down",this),n=be$(".feather.feather-chevron-right",this);t.forEach(function(e){var t=document.createElement("span");t.innerHTML=feather.icons["chevron-right"].toSvg();var n=e.parentNode;n.insertBefore(t.firstChild,e),n.removeChild(e)}),n.forEach(function(e){var t=document.createElement("span");t.innerHTML=feather.icons["chevron-down"].toSvg();var n=e.parentNode;n.insertBefore(t.firstChild,e),n.removeChild(e)})})}),be$("#searchInput",function(e){e.addEventListener("keyup",function(){var e=this.value.toLowerCase();Array.prototype.filter.call(document.querySelectorAll("li.nav-item"),function(t){var n=t.innerText.trim().toLowerCase();t.style.display=n.indexOf(e)>-1?"block":"none",console.log(t.innerText.trim())})})})}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);